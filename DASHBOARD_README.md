# BugRewind Dashboard - Quick Start Guide

## Overview
Real-time monitoring dashboard for the BugRewind Hybrid AI system.

**Architecture:**
- **Backend API** (Port 8000): Python/FastAPI with Snowflake integration
- **Ripgrep API** (Port 3001): Node.js/Express for code search
- **Frontend Dashboard** (Port 3002): Next.js real-time monitoring UI

---

## Quick Start (One Command)

```bash
./start-all.sh
```

This will:
1. Start Backend API on http://localhost:8000
2. Start Ripgrep API on http://localhost:3001
3. Start Dashboard on http://localhost:3002
4. Create logs in `logs/` directory

**Then open:** http://localhost:3002

---

## Stop All Services

```bash
./stop-all.sh
```

---

## Manual Start (Alternative)

### Terminal 1: Backend API
```bash
cd backend
python run.py
```
→ Runs on http://localhost:8000

### Terminal 2: Ripgrep API
```bash
cd ripgrep-api
npm run dev
```
→ Runs on http://localhost:3001

### Terminal 3: Frontend Dashboard
```bash
cd frontend
npm run dev
```
→ Runs on http://localhost:3002

---

## Dashboard Features

### 1. **Service Health Monitoring**
- Real-time status badges (Healthy/Degraded/Unhealthy)
- Response time tracking
- Connection status for all services

### 2. **System Metrics**
- Total PRs generated
- Average execution time
- New features vs. updates ratio
- Success rate tracking
- Hybrid AI cost savings vs. Claude

### 3. **Recent PR Generations**
- Last 10 PRs generated via Snowflake Cortex
- Feature request descriptions
- Execution time per PR
- New feature badges

### 4. **Activity Feed**
- Real-time system events
- PR generation history
- Timestamp tracking

### 5. **Auto-Refresh**
- Dashboard updates every 10 seconds
- No manual refresh needed

---

## API Endpoints Used

### Backend API (`http://localhost:8000`)
- `GET /health` - Basic health check
- `GET /api/dashboard/health-summary` - All services status
- `GET /api/dashboard/recent-prs` - Recent PR generations
- `GET /api/dashboard/metrics` - System-wide metrics
- `GET /api/dashboard/activity-feed` - Recent activities

### Ripgrep API (`http://localhost:3001`)
- `GET /api/health` - Health check
- `POST /api/search` - Code search functionality

### Snowflake Integration
- Fetches PR generations from `PR_GENERATIONS` table
- Calculates metrics from stored data
- Hybrid AI tracking (Postman + Cortex)

---

## Troubleshooting

### Port Already in Use
```bash
# Kill process on specific port
lsof -ti:8000 | xargs kill -9  # Backend
lsof -ti:3001 | xargs kill -9  # Ripgrep
lsof -ti:3002 | xargs kill -9  # Frontend
```

### Services Not Starting
1. Check logs: `tail -f logs/*.log`
2. Verify dependencies:
   ```bash
   # Backend
   cd backend && pip install -r requirements.txt

   # Ripgrep
   cd ripgrep-api && npm install

   # Frontend
   cd frontend && npm install
   ```

### Dashboard Shows No Data
1. Verify Snowflake connection: `curl http://localhost:8000/api/snowflake/health`
2. Check if `PR_GENERATIONS` table exists in Snowflake
3. Generate a test PR via Postman Flow

### CORS Issues
- Backend CORS is configured for `*` (all origins)
- If issues persist, check browser console for errors

---

## Demo Talking Points (For Judges)

### 1. **Hybrid AI Architecture**
> "This dashboard monitors our Hybrid AI system. Postman AI Agent orchestrates the workflow, while Snowflake Cortex generates the code. You can see cost savings of 94% compared to using Claude directly."

### 2. **Real-Time Monitoring**
> "All services update every 10 seconds. Green badges mean healthy, yellow means degraded. We're tracking response times, database connections, and API availability."

### 3. **Snowflake Integration**
> "Every PR generated by Cortex is stored in Snowflake's `PR_GENERATIONS` table. We query this for metrics, history, and analytics. Time Travel queries available for historical data."

### 4. **Production-Ready**
> "This isn't just a demo UI—it's production monitoring. Logs, health checks, graceful shutdown, and error handling built-in."

---

## File Structure

```
youareabsolutelyright/
├── start-all.sh              # Start all services
├── stop-all.sh               # Stop all services
├── logs/                     # Service logs
│   ├── backend.log
│   ├── ripgrep.log
│   └── frontend.log
├── backend/
│   └── app/
│       └── routes/
│           └── dashboard.py  # Dashboard API endpoints
├── frontend/
│   └── app/
│       └── page.tsx          # Dashboard UI
└── ripgrep-api/
    └── src/routes/
```

---

## Environment Variables

### Frontend (`.env.local` - optional)
```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### Backend (`.env`)
```env
# Snowflake
ENABLE_SNOWFLAKE=true
SNOWFLAKE_ACCOUNT=MFFKJKS-EXB19493
SNOWFLAKE_USER=RXH3770
SNOWFLAKE_PASSWORD=***
SNOWFLAKE_DATABASE=BUGREWIND
SNOWFLAKE_SCHEMA=GIT_ANALYSIS

# Ripgrep
RIPGREP_API_URL=http://localhost:3001
```

---

## Next Steps

1. **Start Services**: `./start-all.sh`
2. **Open Dashboard**: http://localhost:3002
3. **Generate Test PR**: Use Postman Flow to trigger Snowflake Cortex
4. **Watch Metrics Update**: Dashboard will show new PR in ~10 seconds
5. **Check Logs**: `tail -f logs/*.log` for debugging

---

## Support

- Logs: `logs/` directory
- API Docs: http://localhost:8000/docs
- GitHub Issues: Report bugs to project repo

**Built with:** Next.js 16 + React 19 + FastAPI + Snowflake Cortex + Postman Flows
